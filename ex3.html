<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>WEB2_JavaScript</title>

  <style>
   .js{
      font-weight: bold;
      color: red;
    }
    #first{
      color: green;
    }
    span{
      color: blue;
    }

  </style>

    <script>

    function nightDayHandler(self){
    var target = document.querySelector('body');
    if(self.value==='night'){
      target.style.backgroundColor='black';
      target.style.color='white';
      self.value='day';

      var alist = document.querySelectorAll('a');
      var i = 0;
      while(i<alist.length){
        alist[i].style.color = 'powderblue';
        i = i + 1;
      }

    } else{
      target.style.backgroundColor='white';
      target.style.color='black';
      self.value='night';

      var alist = document.querySelectorAll('a');
      var i = 0;
      while(i<alist.length){
        alist[i].style.color = 'blue';
        i = i + 1;
      }
    }
  }
    </script>
</head>

<body>
  <h1><a href="index.html">WEB2-javaScript</a></h1>
<!--
  <input type="button" value="night" onclick="
   document.querySelector('body').style.backgroundColor='black';
   document.querySelector('body').style.color='white';
  ">
   <input type="button" value="day" onclick="
    document.querySelector('body').style.backgroundColor='white';
    document.querySelector('body').style.color='black';
  ">
-->
<!--
 <input id="night_day" type="button" value="night" onclick="
 if(document.querySelector('#night_day').value==='night'){
   document.querySelector('body').style.backgroundColor='black';
   document.querySelector('body').style.color='white';
   document.querySelector('#night_day').value='day'

 } else{
   document.querySelector('body').style.backgroundColor='white';
   document.querySelector('body').style.color='black';
   document.querySelector('#night_day').value='night'
 }
 ">
-->

<!--
 <input type="button" value="night" onclick="
 if(this.value==='night'){
   document.querySelector('body').style.backgroundColor='black';
   document.querySelector('body').style.color='white';
   this.value='day'

 } else{
   document.querySelector('body').style.backgroundColor='white';
   document.querySelector('body').style.color='black';
   this.value='night'
 }
 ">
-->
 <input type="button" value="night" onclick="
  nightDayHandler(this);
 ">

<!--
  <ol>
    <li><a href="1.html">HTML</a> </li>
    <li><a href="2.html">CSS</a></li>
    <li><a href="3.ntml">JavaScript</a></li>
  </ol>
-->
  <ol>
    <li><a href="ex1.html">HTML</a> </li>
    <li><a href="ex2.html">CSS</a></li>
    <li><a href="ex3.html">JavaScript</a></li>
  </ol>

  <h2 style="background-color: coral;color:powderblue">JavaScript란 무엇인가</h2>
  <p>
    <span id="first" class="js">JavaScript</span> (/ˈdʒɑːvəˌskrɪpt/),[9] often abbreviated as JS, is a high-level, just-in-time compiled, multi-paradigm
    programming language that conforms to the ECMAScript specification.[10] <span class="js">JavaScript</span> has curly-bracket syntax, dynamic
    typing, prototype-based object-orientation, and first-class functions.
    Alongside <span>HTML</span> and <span>CSS</span>, <span class="js">JavaScript</span> is one of the core technologies of the World Wide Web.[11] <span class="js">JavaScript</span> enables
    interactive web pages and is an essential part of web applications. The vast majority of websites use it,[12] and major
    web browsers have a dedicated <span class="js">JavaScript</span> engine to execute it.
    As a multi-paradigm language, <span class="js">JavaScript</span> supports event-driven, functional, and imperative (including object-oriented
    and prototype-based) programming styles. It has APIs for working with text, arrays, dates, regular expressions, and the DOM,
    but the language itself does not include any I/O, such as networking, storage, or graphics facilities. It relies upon
    the host environment in which it is embedded to provide these features.
  </p>



======================================================================
# css [background color|color] property <br>
# div 태그(block)와 span 태그(inline) <br>
# Atom editor [파일|단어] 찾기 및 바꾸기 도구 여는 단축키: ctrl + F <br>
# selector 우선순위 : id - class - tag - 동일 순위 선택자 간에는 최근접 선택자
# (검색) javascript select tag by css selector ....: input > onclick 속
# (검색) javascript element [tag] style ....body 태그내에 night 버튼 누를때  background-color ; red 넣은 경우 ..>style.backgroundColor='red';
# (검색) ------------------ body 태그내에 day 버튼 누를때 foreground 컬러 넣는 경우..> style.color='white'
# night, day 버튼 누를 때 마다 콘솔창에서 body 태그변경 확인 가능

---------------------------------------------------------------------
# toggle 버튼으로 변경
 1. night, day 버튼을 하나로 합친 night_day 버튼을 생성
 2. if ~ else 조건문 만들고, input문에 id="night_day" 생성
 3. id값이 night_day의 value 값을 주는 문법을 찾음 ..> document.querySelector('#night_day').value
 4. if문() 속에 위문법 적용 ...>if(document.querySelector('#night_day').value==='night'){} else{}
 5. toggle 완성...day 버튼 및 night 버튼 각각은 주석처리

 # 4.번 코드 내용
     <!--
     <input id="night_day" type="button" value="night" onclick="
    if(document.querySelector('#night_day').value==='night'){
      document.querySelector('body').style.backgroundColor='black';
      document.querySelector('body').style.color='white';
      document.querySelector('#night_day').value='day'

    } else{
      document.querySelector('body').style.backgroundColor='white';
      document.querySelector('body').style.color='black';
      document.querySelector('#night_day').value='night'
    }
      -->

------------------refactoring(this, val target) ------------------
# toggle 버튼을 복사하여 문장 다른곳에 추가하면 위 toggle 버튼과 상충됨
 1. 이경우 id='night_day2 등으로 이름바꾸고, document.querrySelector('#night_day2').value...
 등으로 변경하면 되나, 임시방편이고 번잡 스러움
 2. 이때 this 사용(this는  document.querySelector('#night_day2')를 의미하며
 onclick 이벤트가 있는 태그 자신임. 따라서 위를 this.value==='night'로
 변경하면됨. 이에따라 input 태그내 인덱스 id='night_day2'도 참조할 필요 없어 생략
 ...>
 3. 맨위 toggle 버튼의 코드에 this 사용한 코드로 적용

<!--
 (1.1)
 <input id="night_day2" type="button" value="night" onclick="
 if(document.querySelector('#night_day2').value==='night'){
   document.querySelector('body').style.backgroundColor='black';
   document.querySelector('body').style.color='white';
   document.querySelector('#night_day2').value='day'

 } else{
   document.querySelector('body').style.backgroundColor='white';
   document.querySelector('body').style.color='black';
   document.querySelector('#night_day2').value='night'
 }
 ">

(1.2)
<input id="night_day2" type="button" value="night" onclick="
if(this.value==='night'){
  document.querySelector('body').style.backgroundColor='black';
  document.querySelector('body').style.color='white';
  this.value='day'

} else{
  document.querySelector('body').style.backgroundColor='white';
  document.querySelector('body').style.color='black';
  this.value='night'
}
">

(1.3)
<input type="button" value="night" onclick="
if(this.value==='night'){
  document.querySelector('body').style.backgroundColor='black';
  document.querySelector('body').style.color='white';
  this.value='day'

} else{
  document.querySelector('body').style.backgroundColor='white';
  document.querySelector('body').style.color='black';
  this.value='night'
}
">

-->
-------------------val target 변수로 중복제거 -----------
(2.1) onclick= "" 속에 var target = document.querySelector('body') 변수 생성후 적용
<!--
<input type="button" value="night" onclick="
var target = document.querySelector('body');
if(this.value==='night'){
  target.style.backgroundColor='black';
  target.style.color='white';
  this.value='day'

} else{
  target.style.backgroundColor='white';
  target.style.color='black';
  this.value='night'
}
">
-->
---------------------배열을 사용한 a 태그의 색상변화---------------
(3.1) var alist = document.querySelectorAll('a') 및 반복문

<!-- 주간모드에 적용
var alist = document.querySelectorAll('a');
var i = 0;
while(i<alist.length){
  alist[i].style.color = 'powderblue';
  i = i + 1;
}
   야간모드에 적용
var alist = document.querySelectorAll('a');
var i = 0;
while(i<alist.length){
  alist[i].style.color = 'blue';
  i = i + 1;
}
-->

------------------- 함수를 활용한 refactoring-----------------
위에서 설명하였듯 this는 onclick 이벤트가 있는 태그 자신임. 하지만 nightDayHandler()와
같이 독립된 별도의 함수에서는 전역객체(window)가 됨. 따라서 onclick="nightDayHandler(this);로
사용하되, head 태그 내 script 태그속에서 사용하는 별도함수에서는 self로 변경시켜야함.
아래는 (3.1)코드에 nightDayHandler(this)사용하여 refactoring 한 코드

<input type="button" value="night" onclick="
 nightDayHandler(this);
">

</body>
</html>
